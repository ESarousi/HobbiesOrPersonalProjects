import random

'''game aspects
patient stats (name, age, sex, conscious level, blood pressure, pulse, blood sugar, height, weight, blood levels, etc.)
taking vitals (updating info)
prescribing medication (changing info)
diagnostic tests (confirming diagnoses)
diagnose patient (formal diagnosis. Three days of observation.)
Event log'''

P1 = {
    'Name': 'John Smith',
    'Age': 62,
    'Sex': 'Male',
    'Allergies': 'Oxycodone',
    'Reactions': 'Hives',
    'Chief Complaint': 'Vomiting',
    'Complaints': ['Abdominal Pain', 'Lethargy', 'Jaundice', 'Lack of Appetite', 'Dark Urine'],
    'Diagnosis': 'Liver Cancer',
    'Weight': 244,
    'Height': 65,
    'Blood Glucose': 141,
    'Blood Pressure': 136
     }

P2 = {
    'Name': 'Sally Samson',
    'Age': 49,
    'Sex': 'Female',
    'Allergies': None,
    'Reactions': None,
    'Chief Complaint': 'Trouble Breathing',
    'Complaints': ['Sore Throat', 'Congestion', 'Fatigue', 'Headache', 'Lost of Taste'],
    'Diagnosis': 'COVID-19',
    'Weight': 157,
    'Height': 61,
    'Blood Glucose': 105,
    'Blood Pressure': 113
     }

Patient_List = [P1, P2]

def game_begin():
    patient = random.choice(Patient_List)
    print(patient)

game_begin()

def game_begin():
    patient_select =
    def menu():
        choice = input("What do you want to do? ")

        if choice == "Talk to Patient":
            patient_discussion()
        if choice == "Prescribe Medication":
            prescribe_medication()
        if choice == "Perform a Diagnostic Test":
            diagnostic_test()
        if choice == "Perform Surgery":
            perform_surgery()

def patient_discussion():
    choice = input("What do you want to do? ")
    
    if choice == "Ask the patient questions":
        patient_question()
    if choice == "Get the patient's current status":
        get_patient_status()
        

def get_bp_status(bp):
    if bp < 90:
        bp_status = 'Low'
    elif 89 < bp < 120:
        bp_status = 'Normal'
    elif 119 < bp < 140:
        bp_status = 'Borderline High'
    elif 149 < bp:
            bp_status = 'High'
    print(bp_status)

def get_bg_status(bg, diabetes=False):
    if bg < 70:
            bg_status = 'Low'
    if diabetes == True:
        if 71 < bg < 180:
            bg_status = 'Normal'
        if bg > 179:
            bg_status = 'High'
    if diabetes == False:
        if 71 < bg < 140:
            bg_status = 'Normal'
        if bg > 139:
            bg_status = 'High'
    print(bg_status)

def get_bmi(height, weight):
    bmi = round(int(weight)/(int(height)*int(height))*703, 3)
    print(bmi)

def get_patient_status(patient):
    age = get_patient_age()
    sex = get_patient_sex()
    allergies = get_patient_allergies()
    c_complaint = get_chief_complaint()
    complaints = get_complaints()
    medications = get_medications()
    height = get_patient_height()
    weight = get_patient_weight()
    bmi = get_bmi()
    bp = get_bp_status()
    bg = get_bg_status()

class patient:
    def __init__(self, number, name, diagnosis, age, sex, allergies, c_complaint, complaints, medications,
                 height, weight, bmi, bp, bg):
        self.number = number
        self.name = name
        self.diagnosis = diagnosis
        self.age = age
        self.allergies = allergies
        self.c_complaint = c_complaint
        self.complaints = complaints
        self.medications = medications
        self.height = height
        self.weight = weight
        self.bmi = get_bmi(height, weight)
        self.bp = bp
        self.bg = bg
        
p1 = patient(1, 'Harold Ingham', 'Diabetes', '25', 'Male', 'Bee Stings', 'Distorted Vision',
             ['Confusion', 'Weakness', 'Shaky'], 'Lisinopril', '70', '195', get_bmi(70, 195), 124, 55)

get_bmi(61,157)

type(p1.bmi)

print(p1.bmi)

def action():
    diagnosis = 'diabetes'
    blood_sugar = 50
    patient_alive = True
    while patient_alive != False:
        question = input('''What would you like to do?
        
        Type C for doctor consult.
        Type M to prescribe medication.
        Type M to perform surgery.
        Type T for diagnostic tests.
        Type V for patient vitals.''')
        if question.lower() == 'm':
            medication = input("What kind of medication would you like to prescribe? ")
            if medication == 'insulin' and blood_sugar < 60:
                patient_alive == False
        break
    else:
        print("Your patient is dead. There is nothing more you can do. Try again.")
         
action()
